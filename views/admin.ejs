<!DOCTYPE html>
<html lang="en">
  <% include common/header.ejs %>
  <body>
    <% include common/nav.ejs %>
      <div class="container">
        <div class="row">
          <div class="col-md-12">
            <hr>
            <button type="button" class="btn btn-warning" id="table_view_btn"> Voters / Topics</button>
            <button type="button" class="btn btn-danger float-right"
              onclick="javascript:window.location = '/admin/logout';"> Logout</button>

            <hr>
            <div id="voter_table">
              <table class="table table-hover table-bordered table-striped">
                <h4>Voters</h4>
                <small>Click on the row item to verify the identity of Voter.</small>
                <thead>
                  <tr>
                    <th scope="col">#</th>
                    <th scope="col">Name</th>
                    <th scope="col">Nation ID</th>
                    <th scope="col">Verified?</th>
                  </tr>
                </thead>
                <tbody>
                  <% for(var i=0 ; i < voters.length; i++) { %>
                    <tr onclick="window.location='/admin/verifyvoter/<%= voters[i]._id%>';" style="cursor: pointer;">
                      <th scope="row">
                        <%= i+1 %>
                      </th>
                      <td>
                        <%= voters[i].name%>
                      </td>
                      <td>
                        <%= voters[i].nationid.toString().toUpperCase()%>
                      </td>
                      <td>
                        <%= voters[i].isValid.toString().toUpperCase()%>
                      </td>
                    </tr>
                    <% }%>
                </tbody>
              </table>
            </div>

            <div id="topic_table" style="display:none;">
              <table class="table table-hover table-bordered table-striped">
                <h4>Topics</h4>
                <div class="my-2"><button type="button" id="topicModalBtn" class="btn btn-success">Add topic</button>
                </div>
                <thead>
                  <tr>
                    <th scope="col">#</th>
                    <th scope="col">Name</th>
                    <th scope="col">Choices</th>
                    <th scope="col">Expired</th>
                  </tr>
                </thead>
                <tbody>
                  <% for(var i=0 ; i < topics.length; i++) { %>
                    <tr>
                      <th scope="row">
                        <%= i+1 %>
                      </th>
                      <td>
                        <%= topics[i].name%>
                      </td>
                      <td>
                        <%= topics[i].choices %>
                      </td>
                      <td>
                        <%= formatDate(topics[i].expired) %>
                      </td>
                    </tr>
                    <% }%>
                </tbody>
              </table>



            </div>

            <form id="topic_add_form" style="display: none;">
              <h4>Add Topic</h4>
              <div class="form-group">
                <label for="name">Name</label>
                <input type="text" class="form-control" id="name" name="name">
              </div>
              <div class="form-group">
                <label for="password">Choices</label>
                <div class="input-group">
                  <input type="text" class="form-control" id="choice" name="choice">
                  <div class="input-group-append">
                    <button type="button" id="topic_choice_add" class="btn btn-success">Add</button>
                  </div>
                </div>
              </div>
              <div id="topic_choices_edit">
                <div>
                  Choice 1
                  <button class="btn btn-success">Remove</button>
                </div>
              </div>
              <div class="form-group">
                <label for="expired">Expired</label>
                <div class="input-group">
                  <input type="date" class="form-control" id="expired-date">
                  <input type="time" class="form-control" id="expired-time">
                </div>
              </div>
              <hr>
              <div class="form-group">
                <button type="submit" id="topic_add_btn" class="btn btn-success btn-lg btn-block">Add</button>
              </div>
            </form>
          </div>
        </div>
      </div>
  </body>
</html>
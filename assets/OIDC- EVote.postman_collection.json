{
	"info": {
		"_postman_id": "54aed2c8-09ab-4317-887f-e8bf9b91b6e6",
		"name": "OIDC",
		"schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json",
		"_exporter_id": "8045376"
	},
	"item": [
		{
			"name": "1. get authorize",
			"request": {
				"method": "GET",
				"header": [],
				"url": {
					"raw": "https://connect.dga.or.th/connect/authorize?response_type=code&client_id=c0a10258-6142-4257-8aea-c374e151bfe5&redirect_uri=http://localhost:3058/api/callback/login&scope=openid personal_token citizen_id preferred_username given_name&code_challenge_method=S256&code_challenge=1SF5UEwYplIjmAwHUwcitzp9qz8zv98uYflt-tBmwLc",
					"protocol": "https",
					"host": [
						"connect",
						"dga",
						"or",
						"th"
					],
					"path": [
						"connect",
						"authorize"
					],
					"query": [
						{
							"key": "response_type",
							"value": "code"
						},
						{
							"key": "client_id",
							"value": "c0a10258-6142-4257-8aea-c374e151bfe5"
						},
						{
							"key": "redirect_uri",
							"value": "http://localhost:3058/api/callback/login"
						},
						{
							"key": "scope",
							"value": "openid personal_token citizen_id preferred_username given_name"
						},
						{
							"key": "code_challenge_method",
							"value": "S256"
						},
						{
							"key": "code_challenge",
							"value": "1SF5UEwYplIjmAwHUwcitzp9qz8zv98uYflt-tBmwLc"
						}
					]
				}
			},
			"response": []
		},
		{
			"name": "2. requests token",
			"request": {
				"auth": {
					"type": "noauth"
				},
				"method": "POST",
				"header": [
					{
						"key": "Content-Type",
						"value": "application/x-www-form-urlencoded",
						"type": "default"
					}
				],
				"body": {
					"mode": "urlencoded",
					"urlencoded": [
						{
							"key": "grant_type",
							"value": "authorization_code",
							"type": "default"
						},
						{
							"key": "code",
							"value": "46F506A70CDF10C2752C79677CE92502DB02F0A1F721DAF6ED653FA0692C4F42",
							"type": "default"
						},
						{
							"key": "redirect_uri",
							"value": "http://localhost:3058/api/callback/login",
							"type": "default"
						},
						{
							"key": "code_verifier",
							"value": "3e2727957a1bd9f47b11ff347fca362b6060941decb4",
							"type": "default"
						},
						{
							"key": "client_id",
							"value": "c0a10258-6142-4257-8aea-c374e151bfe5",
							"type": "default"
						}
					]
				},
				"url": {
					"raw": "https://connect.dga.or.th/connect/token",
					"protocol": "https",
					"host": [
						"connect",
						"dga",
						"or",
						"th"
					],
					"path": [
						"connect",
						"token"
					]
				}
			},
			"response": []
		},
		{
			"name": "3. get userinfo",
			"request": {
				"auth": {
					"type": "bearer",
					"bearer": [
						{
							"key": "token",
							"value": "eyJhbGciOiJSUzI1NiIsImtpZCI6IkZBRkJFOEFGQUQ2NkYxRjkxMjc4NkJGMDdGNDQ1QjQyNjBBMTg5NkFSUzI1NiIsInR5cCI6ImF0K2p3dCIsIng1dCI6Ii12dm9yNjFtOGZrU2VHdndmMFJiUW1DaGlXbyJ9.eyJuYmYiOjE2NzgzNjIyNzgsImV4cCI6MTY3ODM2NTg3OCwiaXNzIjoiaHR0cHM6Ly9jb25uZWN0LmRnYS5vci50aCIsImNsaWVudF9pZCI6ImMwYTEwMjU4LTYxNDItNDI1Ny04YWVhLWMzNzRlMTUxYmZlNSIsInN1YiI6IjU3ZmRmNjgxLTE0NzUtNGRiNy1mNzEzLTA4ZGE4MDNhNWIzNCIsImF1dGhfdGltZSI6MTY3ODM2MjI0MywiaWRwIjoibG9jYWwiLCJwcmVmZXJyZWRfdXNlcm5hbWUiOiJucnp3YyIsInBlcnNvbmFsX3Rva2VuIjoiY25XU1JDc2JOME1BS2xFcEFZZjBVMTNaNHY0PSIsImNpdGl6ZW5faWQiOiIzMjQwMjAwMDc3NjU0IiwiZ2l2ZW5fbmFtZSI6IuC5hOC4nuC5guC4o-C4iOC4meC5jCIsImp0aSI6IkE4ODQyODU3OTZFNjEyODYyOEE4Nzc3MkU4QzdFOUU3Iiwic2lkIjoiNzkwOTg0NDlFOEJFNEQ2Q0ExMTI4NEIzNzA4MzJDNDkiLCJpYXQiOjE2NzgzNjIyNzgsInNjb3BlIjpbIm9wZW5pZCIsInBlcnNvbmFsX3Rva2VuIiwiY2l0aXplbl9pZCIsInByZWZlcnJlZF91c2VybmFtZSIsImdpdmVuX25hbWUiXSwiYW1yIjpbInB3ZCJdfQ.JEvG81aKxj5VWN8Z2rQA6nNlKjvBnLRKyh-s5M6JPmXLXETqH7AKmyE3V81pwsmA8Qlo0PrVK9t2Wr01PxfFnT1fQ42BnNxYR95MYFxgfBW3jJwy_OnEVJO96A-jYW8W45fXHfp1YXzZ9xJuVi_ZacEH8W3A44MIg0qxwmQAZ4a3_i4ktzjnvHhWK0rBQsmUxt1zkD4YiFieSBcFCTq6Fbza9r2AD-s3Oy9ik6FZ9okCwU6L9ETuiSj1ldZE7Kl3-9jf7jW62UwsHTQWFiygA6gBhtRGmWchQes9-seYXgb_kxfkF8O7ZpIJDaV7yDsUHAzv3nItDVU-BeMi8mff8Q",
							"type": "string"
						}
					]
				},
				"method": "GET",
				"header": [],
				"url": {
					"raw": "https://connect.dga.or.th/connect/userinfo",
					"protocol": "https",
					"host": [
						"connect",
						"dga",
						"or",
						"th"
					],
					"path": [
						"connect",
						"userinfo"
					]
				}
			},
			"response": []
		},
		{
			"name": "4. Logout",
			"request": {
				"method": "GET",
				"header": [],
				"url": {
					"raw": "https://connect.dga.or.th/connect/endsession?id_token_hint=eyJhbGciOiJSUzI1NiIsImtpZCI6IkZBRkJFOEFGQUQ2NkYxRjkxMjc4NkJGMDdGNDQ1QjQyNjBBMTg5NkFSUzI1NiIsInR5cCI6IkpXVCIsIng1dCI6Ii12dm9yNjFtOGZrU2VHdndmMFJiUW1DaGlXbyJ9.eyJuYmYiOjE2NzgzNjIyNzgsImV4cCI6MTY3ODM2MjU3OCwiaXNzIjoiaHR0cHM6Ly9jb25uZWN0LmRnYS5vci50aCIsImF1ZCI6ImMwYTEwMjU4LTYxNDItNDI1Ny04YWVhLWMzNzRlMTUxYmZlNSIsImlhdCI6MTY3ODM2MjI3OCwiYXRfaGFzaCI6InlHRlVvWjNzWnYtUXJMeV94RUYyQnciLCJzaWQiOiI3OTA5ODQ0OUU4QkU0RDZDQTExMjg0QjM3MDgzMkM0OSIsInN1YiI6IjU3ZmRmNjgxLTE0NzUtNGRiNy1mNzEzLTA4ZGE4MDNhNWIzNCIsImF1dGhfdGltZSI6MTY3ODM2MjI0MywiaWRwIjoibG9jYWwiLCJhbXIiOlsicHdkIl19.WxCj1puVL9AJvmak6TsPlkJLWekLMF3Qnrjf06tBz4WDEzsX_IgDhzJiAWTj7UjJDNzy63hjBTE5xru5P9HwQNgDhCOa_zj9Dk5r-h00P-T5r9I_vf-cvlrom2DK1uxLEk2CJ5MQEM36b8ur5yFIzOLObgoXjVYHARoiyJm3HLIx52lmyH1G7YSQAoNvFe6Wc20nJ_HItM3QDkxuQjd7kypYLfbn2m6hkMCVrQgbvLMuthBdjmIXONwHV5lkTPxx7aNkW7fFOFthYxZNMESokrZwiuI-3--8lEpUvKGBZ3nnYf4RzghKdk3U5gWNwugKvsT-n8oGTuk7IDAGbmrSIg&post_logout_redirect_uri=http://localhost:3058/api/callback/logout",
					"protocol": "https",
					"host": [
						"connect",
						"dga",
						"or",
						"th"
					],
					"path": [
						"connect",
						"endsession"
					],
					"query": [
						{
							"key": "id_token_hint",
							"value": "eyJhbGciOiJSUzI1NiIsImtpZCI6IkZBRkJFOEFGQUQ2NkYxRjkxMjc4NkJGMDdGNDQ1QjQyNjBBMTg5NkFSUzI1NiIsInR5cCI6IkpXVCIsIng1dCI6Ii12dm9yNjFtOGZrU2VHdndmMFJiUW1DaGlXbyJ9.eyJuYmYiOjE2NzgzNjIyNzgsImV4cCI6MTY3ODM2MjU3OCwiaXNzIjoiaHR0cHM6Ly9jb25uZWN0LmRnYS5vci50aCIsImF1ZCI6ImMwYTEwMjU4LTYxNDItNDI1Ny04YWVhLWMzNzRlMTUxYmZlNSIsImlhdCI6MTY3ODM2MjI3OCwiYXRfaGFzaCI6InlHRlVvWjNzWnYtUXJMeV94RUYyQnciLCJzaWQiOiI3OTA5ODQ0OUU4QkU0RDZDQTExMjg0QjM3MDgzMkM0OSIsInN1YiI6IjU3ZmRmNjgxLTE0NzUtNGRiNy1mNzEzLTA4ZGE4MDNhNWIzNCIsImF1dGhfdGltZSI6MTY3ODM2MjI0MywiaWRwIjoibG9jYWwiLCJhbXIiOlsicHdkIl19.WxCj1puVL9AJvmak6TsPlkJLWekLMF3Qnrjf06tBz4WDEzsX_IgDhzJiAWTj7UjJDNzy63hjBTE5xru5P9HwQNgDhCOa_zj9Dk5r-h00P-T5r9I_vf-cvlrom2DK1uxLEk2CJ5MQEM36b8ur5yFIzOLObgoXjVYHARoiyJm3HLIx52lmyH1G7YSQAoNvFe6Wc20nJ_HItM3QDkxuQjd7kypYLfbn2m6hkMCVrQgbvLMuthBdjmIXONwHV5lkTPxx7aNkW7fFOFthYxZNMESokrZwiuI-3--8lEpUvKGBZ3nnYf4RzghKdk3U5gWNwugKvsT-n8oGTuk7IDAGbmrSIg"
						},
						{
							"key": "post_logout_redirect_uri",
							"value": "http://localhost:3058/api/callback/logout"
						},
						{
							"key": "client_id",
							"value": "0bf4873d-809a-44d0-be0f-448d790051f0",
							"disabled": true
						}
					]
				}
			},
			"response": []
		}
	]
}